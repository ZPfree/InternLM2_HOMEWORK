配置lmdepoly 环境

![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/11db6dee-a33b-4ac3-8c28-263f8b9b5af3)


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/dc9029e7-d30e-41e7-811b-9ebb7bbf461c)


链接Chat1.8B模型

![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/ff309427-55bf-4155-9ecf-0adc4d6bc2c0)


对话

![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/e03e2b06-48cc-45a4-8b27-0d9f6968db1f)




![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/2c34ca97-fe73-442e-81b2-aed1bbf83351)



设置kv 缓存大小max =0.5


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/e34c94be-96c6-417b-a205-40a92a044e10)


将KV Cache比例再0.4 开启W4A16量化

![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/c4f0881d-8fc5-4da9-8fad-b31cee15eba1)

可以看到比单纯KV 0.5 少2G 左右


2，api方式启动 分别使用命令行客户端与Gradio网页客户端

![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/2c5c0b62-d89d-4011-bda2-c78292109274)


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/7a4c3102-379a-4380-af38-b5e24dcbe88e)


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/f8a3a070-b2ab-4aa3-a49a-1cb40b7ff2ee)

客户端对话


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/9681b029-0e7f-414d-9e1e-2aa1a0825e88)



![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/cd601147-8f65-445c-a84a-9410caad7272)



网页端对话


![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/49aef680-a656-41a8-bdef-c6dfa9351904)



![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/e5fe1cfe-dd16-4433-b8d3-78cf8745373e)





python 代码集成



![image](https://github.com/ZPfree/InternLM2_HOMEWORK/assets/16116418/7416eddf-d865-4173-bc1c-287cfb945e0f)






